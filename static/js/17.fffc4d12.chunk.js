(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1219:function(e,t,n){e.exports=n.p+"static/media/GPS.7765bf72.gif"},1571:function(e,t,n){"use strict";n.r(t);var a=n(61),o=n(62),i=n(65),r=n(63),c=n(64),l=n(66),s=n(1),u=n.n(s),p=n(1220),g=n(42),h=n.n(g),m={position:"absolute",width:"100%",height:"100%"},d=function(e){function t(e){var n;Object(a.a)(this,t);var o=(n=Object(i.a)(this,Object(r.a)(t).call(this,e))).props.initialCenter,c=o.lat,l=o.lng;return n.state={currentLocation:{lat:c,lng:l}},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,n=this.props.google.maps;if(e){var a=new n.LatLng(t.lat,t.lng);e.panTo(a)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n=t.coords;e.setState({currentLocation:{lat:n.latitude,lng:n.longitude}})}),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,n=h.a.findDOMNode(t),a=this.props.zoom,o=this.state.currentLocation,i=o.lat,r=o.lng,c=new e.LatLng(i,r),l=Object.assign({},{center:c,zoom:a});this.map=new e.Map(n,l)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return u.a.Children.map(t,function(t){if(t)return u.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})})}},{key:"render",value:function(){var e=Object.assign({},m);return u.a.createElement("div",null,u.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(u.a.Component);d.defaultProps={zoom:14,initialCenter:{lat:-1.2884,lng:36.8233},centerAroundCurrentLocation:!1,visible:!0};var f=n(757),v=n(154);n.d(t,"Gps",function(){return C});var w={width:"100%",height:"100%"},C=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).state={nameDeviceSellect:"asdf",createAtSellect:"123",initialLng:0,initialLat:0,showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},n.onMarkerClick=function(e,t,a){console.log(e),n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,nameDeviceSellect:e.name,createAtSellect:e.createAtSellect})},n.onClose=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.actionChangeNamePage("TRACKING GOLF CAR")}},{key:"componentDidMount",value:function(){var e=this;v.c(function(t){var n=[];for(var a in t){var o=new Date(t[a].createAt).toLocaleTimeString("en-US");t[a].createAt=o,t[a].nameDevice=a,n.push(t[a])}e.setState({data:n})})}},{key:"render",value:function(){var e=this;return!1===this.props.gps.gps.ready?u.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex"}},u.a.createElement("img",{src:n(1219),style:{width:"50%",height:"50%",margin:"auto"},alt:"GPS"})):u.a.createElement(p.Map,{google:this.props.google,zoom:14,style:w,initialCenter:{lat:this.props.gps.gps.GPS_Lat,lng:this.props.gps.gps.GPS_Lng}},this.state.data.map(function(t,n){return u.a.createElement(p.Marker,{key:n,position:{lat:t.GPS_Lat,lng:t.GPS_Lng},onClick:e.onMarkerClick,title:"Click to show more infomations",name:t.nameDevice,nameDeviceSellect:t.nameDevice,createAtSellect:t.createAt})}),this.state.data.map(function(t,n){return u.a.createElement(p.InfoWindow,{marker:e.state.activeMarker,visible:e.state.showingInfoWindow,onClose:e.onClose},u.a.createElement("div",null,u.a.createElement("h5",{style:{alignItems:"center",textAlign:"center",color:"blue"}},e.state.nameDeviceSellect),u.a.createElement("h6",null,e.state.createAtSellect)))}))}}]),t}(s.Component);t.default=Object(l.b)(function(e,t){return{gps:e.gps}},function(e,t){return{actionChangeNamePage:function(t){e(Object(f.a)(t))}}})(Object(p.GoogleApiWrapper)({apiKey:"AIzaSyAuhJ276CqoN_uunDj2-IHaJiQEiMWS_yQ"})(C))},757:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return function(t){t({type:"_NAV_CHANGE_NAME_PAGE",namePage:e})}}}}]);
//# sourceMappingURL=17.fffc4d12.chunk.js.map
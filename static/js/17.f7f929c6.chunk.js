(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1219:function(e,t,n){e.exports=n.p+"static/media/GPS.7765bf72.gif"},1571:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(61),i=n(62),r=n(65),c=n(63),s=n(64),l=n(66),u=n(1),p=n.n(u),g=n(1220),h=n(42),d=n.n(h),f={position:"absolute",width:"100%",height:"100%"},m=function(e){function t(e){var n;Object(o.a)(this,t);var a=(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).props.initialCenter,i=a.lat,s=a.lng;return n.state={currentLocation:{lat:i,lng:s}},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,n=this.props.google.maps;if(e){var a=new n.LatLng(t.lat,t.lng);e.panTo(a)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n=t.coords;e.setState({currentLocation:{lat:n.latitude,lng:n.longitude}})}),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,n=d.a.findDOMNode(t),a=this.props.zoom,o=this.state.currentLocation,i=o.lat,r=o.lng,c=new e.LatLng(i,r),s=Object.assign({},{center:c,zoom:a});this.map=new e.Map(n,s)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return p.a.Children.map(t,function(t){if(t)return p.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})})}},{key:"render",value:function(){var e=Object.assign({},f);return p.a.createElement("div",null,p.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(p.a.Component);m.defaultProps={zoom:14,initialCenter:{lat:-1.2884,lng:36.8233},centerAroundCurrentLocation:!1,visible:!0};var v=n(757),k=n(154);n.d(t,"Gps",function(){return w});var y={width:"100%",height:"100%"},w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(n=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={data:[],nameDeviceSellect:"",createAtSellect:"",checkKey:0,initialLng:0,initialLat:0,showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},n.onMarkerClick=function(e,t,o){console.log(e),n.setState(Object(a.a)({},n.state,{showingInfoWindow:!1})),n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,nameDeviceSellect:e.name,createAtSellect:e.createAtSellect,checkKey:e.checkKey})},n.onClose=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.actionChangeNamePage("TRACKING GOLF CAR")}},{key:"componentDidMount",value:function(){var e=this;k.c(function(t){var n=[];for(var a in t){var o=new Date(t[a].createAt).toLocaleTimeString("en-US");t[a].createAt=o,t[a].nameDevice=a,n.push(t[a])}e.setState({data:n})})}},{key:"render",value:function(){var e=this;return!1===this.props.gps.gps.ready&&Array.isArray(this.state.data)&&"undefined"!=this.state.data?p.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex"}},p.a.createElement("img",{src:n(1219),style:{width:"50%",height:"50%",margin:"auto"},alt:"GPS"})):(console.log("checkkkkkkkkkkkkkk"),console.log(this.state.data),p.a.createElement(g.Map,{google:this.props.google,zoom:14,style:y,initialCenter:{lat:this.props.gps.gps.GPS_Lat,lng:this.props.gps.gps.GPS_Lng}},this.state.data.map(function(t,n){return p.a.createElement(g.Marker,{key:n,checkKey:n,position:{lat:t.GPS_Lat,lng:t.GPS_Lng},onClick:e.onMarkerClick,title:"Click to show more infomations",name:t.nameDevice,nameDeviceSellect:t.nameDevice,createAtSellect:t.createAt})}),this.state.data.map(function(t,n){if(n===e.state.checkKey)return p.a.createElement(g.InfoWindow,{marker:e.state.activeMarker,visible:e.state.showingInfoWindow,onClose:e.onClose},p.a.createElement("div",null,p.a.createElement("h5",{style:{alignItems:"center",textAlign:"center",color:"blue"}},e.state.nameDeviceSellect),p.a.createElement("h6",null,t.createAt)))})))}}]),t}(u.Component);t.default=Object(l.b)(function(e,t){return{gps:e.gps}},function(e,t){return{actionChangeNamePage:function(t){e(Object(v.a)(t))}}})(Object(g.GoogleApiWrapper)({apiKey:"AIzaSyAuhJ276CqoN_uunDj2-IHaJiQEiMWS_yQ"})(w))},757:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return function(t){t({type:"_NAV_CHANGE_NAME_PAGE",namePage:e})}}}}]);
//# sourceMappingURL=17.f7f929c6.chunk.js.map